<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Champs Noirs sur Blanc - LinkedINPost</title>
    
    <!-- Styles de base -->
    <link rel="stylesheet" href="design-fixes.css">
    <link rel="stylesheet" href="accessibility-fixes.css">
    <link rel="stylesheet" href="ui-ux-improvements.css">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }
        
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            background: #f8f9fa;
        }
        
        .test-section h2 {
            color: #0077b5;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .color-test {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #dee2e6;
            margin: 20px 0;
        }
        
        .color-palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .color-swatch {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .color-swatch.black {
            background: #000000;
        }
        
        .color-swatch.white {
            background: #ffffff;
            color: #000000;
            border: 1px solid #dee2e6;
        }
        
        .color-swatch.gray {
            background: #6c757d;
        }
        
        .color-swatch.blue {
            background: #0077b5;
        }
        
        .contrast-test {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .contrast-example {
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            font-size: 1.1rem;
        }
        
        .contrast-example.good {
            background: #000000;
            color: #ffffff;
        }
        
        .contrast-example.bad {
            background: #ffffff;
            color: #ffffff;
        }
        
        .test-form {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border: 1px solid #dee2e6;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .required {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .field-help {
            font-size: 13px;
            color: #495057;
            margin-top: 6px;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #0077b5;
        }
        
        .test-button {
            background: linear-gradient(135deg, #0077b5 0%, #00a0dc 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 119, 181, 0.3);
        }
        
        .test-results {
            background: #e8f5e8;
            border: 1px solid #27ae60;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .test-results h3 {
            color: #27ae60;
            margin-top: 0;
        }
        
        .test-item {
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
            background: white;
        }
        
        .test-item.success {
            background: #d4edda;
            border-left: 4px solid #27ae60;
        }
        
        .test-item.error {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }
        
        .test-item.warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        
        .accessibility-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .accessibility-info h3 {
            color: #2196f3;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Test - Champs Noirs sur Blanc</h1>
        
        <div class="accessibility-info">
            <h3>üìã Objectif du Test</h3>
            <p>Ce test v√©rifie que tous les champs de saisie ont des caract√®res noirs sur fond blanc pour une excellente lisibilit√©.</p>
        </div>
        
        <div class="test-section">
            <h2>üéØ Palette de Couleurs Test√©e</h2>
            
            <div class="color-palette">
                <div class="color-swatch black">
                    <strong>Noir</strong><br>
                    #000000
                </div>
                <div class="color-swatch white">
                    <strong>Blanc</strong><br>
                    #FFFFFF
                </div>
                <div class="color-swatch gray">
                    <strong>Gris</strong><br>
                    #6C757D
                </div>
                <div class="color-swatch blue">
                    <strong>Bleu</strong><br>
                    #0077B5
                </div>
            </div>
            
            <div class="contrast-test">
                <h4>Test de Contraste</h4>
                <div class="contrast-example good">
                    ‚úÖ Bon contraste : Noir sur Blanc (#000000 sur #FFFFFF)
                </div>
                <div class="contrast-example bad">
                    ‚ùå Mauvais contraste : Blanc sur Blanc (#FFFFFF sur #FFFFFF)
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üîß Formulaire de Test</h2>
            
            <div class="test-form post-display-container">
                <h3>Votre post LinkedIn :</h3>
                
                <div class="form-group">
                    <label for="testSubject" id="testSubjectLabel">
                        Sujet du post <span class="required" aria-label="Champ obligatoire">*</span>
                    </label>
                    <textarea id="testSubject" name="subject" required 
                             rows="3" 
                             placeholder="D√©crivez le sujet de votre post LinkedIn en quelques lignes..."
                             aria-describedby="testSubject-help"
                             aria-required="true"
                             aria-invalid="false"
                             aria-label="Zone de texte pour d√©crire le sujet de votre post LinkedIn"
                             tabindex="0"
                             autocomplete="off"
                             spellcheck="true">Test de contraste : caract√®res noirs sur fond blanc pour une excellente lisibilit√©</textarea>
                    <div id="testSubject-help" class="field-help" role="tooltip" aria-hidden="false">
                        Par exemple : votre expertise, une r√©flexion professionnelle, une actualit√© de votre secteur, etc.
                    </div>
                </div>

                <div class="form-group">
                    <label for="testAudience" id="testAudienceLabel">
                        Audience cible <span class="required" aria-label="Champ obligatoire">*</span>
                    </label>
                    <select id="testAudience" name="audience" required 
                            aria-describedby="testAudience-help"
                            aria-required="true"
                            aria-invalid="false"
                            aria-label="Menu d√©roulant pour s√©lectionner l'audience cible"
                            tabindex="0">
                        <option value="" aria-label="Option par d√©faut - Choisir une audience">Choisir une audience...</option>
                        <option value="professionals" aria-label="Professionnels exp√©riment√©s" selected>Professionnels exp√©riment√©s</option>
                        <option value="juniors" aria-label="Jeunes professionnels">Jeunes professionnels</option>
                        <option value="entrepreneurs" aria-label="Entrepreneurs">Entrepreneurs</option>
                        <option value="managers" aria-label="Managers et dirigeants">Managers et dirigeants</option>
                        <option value="students" aria-label="√âtudiants">√âtudiants</option>
                        <option value="recruiters" aria-label="Recruteurs RH">Recruteurs RH</option>
                    </select>
                    <div id="testAudience-help" class="field-help" role="tooltip" aria-hidden="false">
                        S√©lectionnez le type de professionnels que vous souhaitez cibler avec votre post
                    </div>
                </div>

                <div class="form-group">
                    <label for="testTone" id="testToneLabel">
                        Ton du message <span class="required" aria-label="Champ obligatoire">*</span>
                    </label>
                    <select id="testTone" name="tone" required 
                            aria-describedby="testTone-help"
                            aria-required="true"
                            aria-invalid="false"
                            aria-label="Menu d√©roulant pour s√©lectionner le ton du message"
                            tabindex="0">
                        <option value="" aria-label="Option par d√©faut - Choisir un ton">Choisir un ton...</option>
                        <option value="professional" aria-label="Ton professionnel" selected>Professionnel</option>
                        <option value="inspirational" aria-label="Ton inspirant">Inspirant</option>
                        <option value="casual" aria-label="Ton d√©contract√©">D√©contract√©</option>
                        <option value="educational" aria-label="Ton √©ducatif">√âducatif</option>
                        <option value="motivational" aria-label="Ton motivant">Motivant</option>
                        <option value="thoughtful" aria-label="Ton r√©fl√©chi">R√©fl√©chi</option>
                    </select>
                    <div id="testTone-help" class="field-help" role="tooltip" aria-hidden="false">
                        D√©finissez l'ambiance et le style de votre message LinkedIn
                    </div>
                </div>

                <div class="form-group">
                    <label for="testLanguage" id="testLanguageLabel">
                        Langue du post <span class="required" aria-label="Champ obligatoire">*</span>
                    </label>
                    <select id="testLanguage" name="postLanguage" required 
                            aria-describedby="testLanguage-help"
                            aria-required="true"
                            aria-invalid="false"
                            aria-label="Menu d√©roulant pour s√©lectionner la langue du post"
                            tabindex="0">
                        <option value="fr" aria-label="Fran√ßais" selected>Fran√ßais</option>
                        <option value="en" aria-label="English">English</option>
                    </select>
                    <div id="testLanguage-help" class="field-help" role="tooltip" aria-hidden="false">
                        Choisissez la langue dans laquelle votre post sera g√©n√©r√©
                    </div>
                </div>

                <div class="form-group">
                    <label for="testModel" id="testModelLabel">
                        Mod√®le IA <span class="required" aria-label="Champ obligatoire">*</span>
                    </label>
                    <select id="testModel" name="ollamaModel" required 
                            aria-describedby="testModel-help"
                            aria-required="true"
                            aria-invalid="false"
                            aria-label="Menu d√©roulant pour s√©lectionner le mod√®le d'intelligence artificielle"
                            tabindex="0">
                        <option value="" aria-label="Option par d√©faut - Choisir un mod√®le">Choisir un mod√®le...</option>
                        <option value="llama2" aria-label="Mod√®le Llama 2" selected>Llama 2</option>
                        <option value="mistral" aria-label="Mod√®le Mistral">Mistral</option>
                        <option value="codellama" aria-label="Mod√®le Code Llama">Code Llama</option>
                    </select>
                    <div id="testModel-help" class="field-help" role="tooltip" aria-hidden="false">
                        S√©lectionnez le mod√®le d'intelligence artificielle qui g√©n√©rera votre post
                    </div>
                </div>

                <div class="form-group">
                    <label for="testInput" id="testInputLabel">
                        Champ texte simple
                    </label>
                    <input type="text" id="testInput" name="testInput" 
                           placeholder="Tapez du texte ici pour tester..."
                           aria-describedby="testInput-help">
                    <div id="testInput-help" class="field-help" role="tooltip" aria-hidden="false">
                        Champ de test pour v√©rifier le contraste des caract√®res
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>üîç Tests Automatiques</h2>
            
            <button id="runTests" class="test-button">
                üöÄ Lancer les Tests de Contraste
            </button>
            
            <div id="testResults" class="test-results" style="display: none;">
                <h3>üìä R√©sultats des Tests de Contraste</h3>
                <div id="testResultsContent"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>üìù Instructions de Test Manuel</h2>
            
            <ol>
                <li><strong>Test de Lisibilit√© :</strong> V√©rifiez que le texte dans les champs est bien noir sur fond blanc</li>
                <li><strong>Test des Placeholders :</strong> V√©rifiez que les placeholders sont visibles (gris sur blanc)</li>
                <li><strong>Test du Focus :</strong> Cliquez dans chaque champ et v√©rifiez la bordure bleue</li>
                <li><strong>Test des Options :</strong> Ouvrez les menus d√©roulants et v√©rifiez la lisibilit√©</li>
                <li><strong>Test de Contraste :</strong> V√©rifiez que tous les textes sont facilement lisibles</li>
                <li><strong>Test Responsive :</strong> Redimensionnez la fen√™tre pour tester sur mobile</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h2>üé® Sp√©cifications de Couleurs</h2>
            
            <div class="color-test">
                <h4>Champs de Saisie</h4>
                <ul>
                    <li><strong>Fond :</strong> Blanc (#FFFFFF)</li>
                    <li><strong>Texte :</strong> Noir (#000000)</li>
                    <li><strong>Bordure :</strong> Gris clair (#E1E8ED)</li>
                    <li><strong>Bordure Focus :</strong> Bleu (#0077B5)</li>
                    <li><strong>Placeholder :</strong> Gris (#6C757D)</li>
                </ul>
            </div>
            
            <div class="color-test">
                <h4>Labels et Aide</h4>
                <ul>
                    <li><strong>Labels :</strong> Bleu fonc√© (#2C3E50)</li>
                    <li><strong>Texte d'aide :</strong> Gris (#495057)</li>
                    <li><strong>Champs requis :</strong> Rouge (#E74C3C)</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        class ContrastTester {
            constructor() {
                this.runTestsBtn = document.getElementById('runTests');
                this.testResults = document.getElementById('testResults');
                this.testResultsContent = document.getElementById('testResultsContent');
                
                this.init();
            }
            
            init() {
                this.runTestsBtn.addEventListener('click', () => this.runAllTests());
                
                // Tests automatiques au chargement
                setTimeout(() => this.runBasicTests(), 1000);
            }
            
            runBasicTests() {
                console.log('üß™ Tests de contraste de base en cours...');
                this.testFieldContrast();
                this.testLabelContrast();
                this.testPlaceholderContrast();
            }
            
            runAllTests() {
                console.log('üöÄ Lancement de tous les tests de contraste...');
                this.testResults.style.display = 'block';
                this.testResultsContent.innerHTML = '';
                
                const tests = [
                    { name: 'Contraste des Champs', test: () => this.testFieldContrast() },
                    { name: 'Contraste des Labels', test: () => this.testLabelContrast() },
                    { name: 'Contraste des Placeholders', test: () => this.testPlaceholderContrast() },
                    { name: 'Contraste des Options', test: () => this.testOptionContrast() },
                    { name: 'Contraste des Messages d\'Aide', test: () => this.testHelpTextContrast() },
                    { name: 'Contraste des √âtats', test: () => this.testStateContrast() }
                ];
                
                tests.forEach((test, index) => {
                    setTimeout(() => {
                        const result = test.test();
                        this.displayTestResult(test.name, result);
                    }, index * 300);
                });
            }
            
            testFieldContrast() {
                const fields = document.querySelectorAll('.post-display-container input, .post-display-container textarea, .post-display-container select');
                let validFields = 0;
                let totalFields = fields.length;
                
                fields.forEach(field => {
                    const computedStyle = window.getComputedStyle(field);
                    const backgroundColor = computedStyle.backgroundColor;
                    const color = computedStyle.color;
                    
                    // V√©rifier que le fond est blanc et le texte noir
                    const isWhiteBackground = backgroundColor.includes('255, 255, 255') || backgroundColor.includes('rgb(255, 255, 255)');
                    const isBlackText = color.includes('0, 0, 0') || color.includes('rgb(0, 0, 0)');
                    
                    if (isWhiteBackground && isBlackText) {
                        validFields++;
                    }
                });
                
                const isValid = validFields === totalFields;
                
                console.log(`üìù Contraste des champs: ${validFields}/${totalFields} champs valides`);
                
                return {
                    success: isValid,
                    score: validFields,
                    total: totalFields,
                    message: `${validFields}/${totalFields} champs ont un bon contraste (noir sur blanc)`
                };
            }
            
            testLabelContrast() {
                const labels = document.querySelectorAll('.post-display-container label');
                let validLabels = 0;
                let totalLabels = labels.length;
                
                labels.forEach(label => {
                    const computedStyle = window.getComputedStyle(label);
                    const color = computedStyle.color;
                    
                    // V√©rifier que le texte est bien visible (pas blanc)
                    const isNotWhite = !color.includes('255, 255, 255') && !color.includes('rgb(255, 255, 255)');
                    
                    if (isNotWhite) {
                        validLabels++;
                    }
                });
                
                const isValid = validLabels === totalLabels;
                
                console.log(`üè∑Ô∏è Contraste des labels: ${validLabels}/${totalLabels} labels valides`);
                
                return {
                    success: isValid,
                    score: validLabels,
                    total: totalLabels,
                    message: `${validLabels}/${totalLabels} labels ont un bon contraste`
                };
            }
            
            testPlaceholderContrast() {
                const fields = document.querySelectorAll('.post-display-container input, .post-display-container textarea');
                let validPlaceholders = 0;
                let totalFields = fields.length;
                
                fields.forEach(field => {
                    if (field.placeholder) {
                        const computedStyle = window.getComputedStyle(field, '::placeholder');
                        const color = computedStyle.color;
                        
                        // V√©rifier que le placeholder est visible (gris sur blanc)
                        const isVisible = !color.includes('255, 255, 255') && !color.includes('rgb(255, 255, 255)');
                        
                        if (isVisible) {
                            validPlaceholders++;
                        }
                    }
                });
                
                const isValid = validPlaceholders === totalFields;
                
                console.log(`üîç Contraste des placeholders: ${validPlaceholders}/${totalFields} placeholders valides`);
                
                return {
                    success: isValid,
                    score: validPlaceholders,
                    total: totalFields,
                    message: `${validPlaceholders}/${totalFields} placeholders ont un bon contraste`
                };
            }
            
            testOptionContrast() {
                const selects = document.querySelectorAll('.post-display-container select');
                let validSelects = 0;
                let totalSelects = selects.length;
                
                selects.forEach(select => {
                    // Test basique - v√©rifier que le select est visible
                    const computedStyle = window.getComputedStyle(select);
                    const backgroundColor = computedStyle.backgroundColor;
                    const color = computedStyle.color;
                    
                    const isVisible = backgroundColor.includes('255, 255, 255') && color.includes('0, 0, 0');
                    
                    if (isVisible) {
                        validSelects++;
                    }
                });
                
                const isValid = validSelects === totalSelects;
                
                console.log(`üìã Contraste des selects: ${validSelects}/${totalSelects} selects valides`);
                
                return {
                    success: isValid,
                    score: validSelects,
                    total: totalSelects,
                    message: `${validSelects}/${totalSelects} selects ont un bon contraste`
                };
            }
            
            testHelpTextContrast() {
                const helpTexts = document.querySelectorAll('.post-display-container .field-help, .post-display-container .help-text');
                let validHelpTexts = 0;
                let totalHelpTexts = helpTexts.length;
                
                helpTexts.forEach(helpText => {
                    const computedStyle = window.getComputedStyle(helpText);
                    const color = computedStyle.color;
                    
                    // V√©rifier que le texte d'aide est visible
                    const isVisible = !color.includes('255, 255, 255') && !color.includes('rgb(255, 255, 255)');
                    
                    if (isVisible) {
                        validHelpTexts++;
                    }
                });
                
                const isValid = validHelpTexts === totalHelpTexts;
                
                console.log(`üí° Contraste des textes d'aide: ${validHelpTexts}/${totalHelpTexts} textes valides`);
                
                return {
                    success: isValid,
                    score: validHelpTexts,
                    total: totalHelpTexts,
                    message: `${validHelpTexts}/${totalHelpTexts} textes d'aide ont un bon contraste`
                };
            }
            
            testStateContrast() {
                // Test des √©tats de validation
                const fields = document.querySelectorAll('.post-display-container input, .post-display-container textarea, .post-display-container select');
                let validStates = 0;
                let totalFields = fields.length;
                
                fields.forEach(field => {
                    // Simuler un √©tat valide
                    field.setAttribute('data-test', 'valid');
                    
                    const computedStyle = window.getComputedStyle(field);
                    const backgroundColor = computedStyle.backgroundColor;
                    const color = computedStyle.color;
                    
                    // V√©rifier que m√™me en √©tat sp√©cial, le contraste reste bon
                    const hasGoodContrast = backgroundColor.includes('255, 255, 255') || color.includes('0, 0, 0');
                    
                    if (hasGoodContrast) {
                        validStates++;
                    }
                    
                    // Restaurer l'√©tat normal
                    field.removeAttribute('data-test');
                });
                
                const isValid = validStates === totalFields;
                
                console.log(`üîÑ Contraste des √©tats: ${validStates}/${totalFields} √©tats valides`);
                
                return {
                    success: isValid,
                    score: validStates,
                    total: totalFields,
                    message: `${validStates}/${totalFields} √©tats maintiennent un bon contraste`
                };
            }
            
            displayTestResult(testName, result) {
                const testItem = document.createElement('div');
                testItem.className = `test-item ${result.success ? 'success' : 'error'}`;
                
                const status = result.success ? '‚úÖ' : '‚ùå';
                testItem.innerHTML = `
                    <strong>${status} ${testName}</strong><br>
                    <span>${result.message}</span><br>
                    <small>Score: ${result.score}/${result.total}</small>
                `;
                
                this.testResultsContent.appendChild(testItem);
                
                // Animation d'apparition
                testItem.style.opacity = '0';
                testItem.style.transform = 'translateY(20px)';
                testItem.style.transition = 'all 0.3s ease';
                
                setTimeout(() => {
                    testItem.style.opacity = '1';
                    testItem.style.transform = 'translateY(0)';
                }, 100);
            }
        }
        
        // Initialiser le testeur
        document.addEventListener('DOMContentLoaded', () => {
            new ContrastTester();
        });
    </script>
</body>
</html>
