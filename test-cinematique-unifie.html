<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Cin√©matique Unifi√© - PostSocial</title>
    <link rel="stylesheet" href="cinematique-generateur-optimisee.css">
    <style>
        /* Styles de base optimis√©s */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            color: white;
        }
        
        .section h3 {
            margin-top: 0;
            color: #4da6ff;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            border-left: 4px solid #0077b5;
        }
        
        .item h4 {
            margin-top: 0;
            color: #4da6ff;
        }
        
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .status.success { background: #27ae60; color: white; }
        .status.error { background: #e74c3c; color: white; }
        .status.warning { background: #f39c12; color: white; }
        
        .button {
            background: linear-gradient(135deg, #0077b5, #667eea);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .demo {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .demo h3 {
            color: white;
            margin-top: 0;
        }
        
        .log {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
        
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-radius: 4px;
        }
        
        .log-entry.info { background: rgba(52, 152, 219, 0.2); color: #4da6ff; }
        .log-entry.success { background: rgba(39, 174, 96, 0.2); color: #2ecc71; }
        .log-entry.error { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
        .log-entry.warning { background: rgba(243, 156, 18, 0.2); color: #f39c12; }
        
        .summary {
            background: rgba(39, 174, 96, 0.2);
            border: 2px solid #27ae60;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .summary h3 {
            color: #2ecc71;
            margin-top: 0;
        }
        
        .summary .score {
            font-size: 3rem;
            font-weight: bold;
            color: #2ecc71;
            margin: 10px 0;
        }
        
        .summary .details {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé¨ Test Cin√©matique Unifi√©</h1>
            <p>Validation compl√®te et optimis√©e de la nouvelle cin√©matique</p>
        </div>
        
        <div class="section">
            <h3>üîç Tests Automatiques</h3>
            <div class="grid">
                <div class="item">
                    <h4>Fichier CSS</h4>
                    <p>V√©rification de la syntaxe et du chargement</p>
                    <div class="status" id="cssStatus">Test en cours...</div>
                </div>
                
                <div class="item">
                    <h4>Variables CSS</h4>
                    <p>Test des variables et des couleurs</p>
                    <div class="status" id="variablesStatus">Test en cours...</div>
                </div>
                
                <div class="item">
                    <h4>Animations</h4>
                    <p>Test des keyframes et transitions</p>
                    <div class="status" id="animationsStatus">Test en cours...</div>
                </div>
                
                <div class="item">
                    <h4>Responsivit√©</h4>
                    <p>Test des media queries</p>
                    <div class="status" id="responsiveStatus">Test en cours...</div>
                </div>
                
                <div class="item">
                    <h4>Accessibilit√©</h4>
                    <p>Test des pr√©f√©rences de mouvement</p>
                    <div class="status" id="accessibilityStatus">Test en cours...</div>
                </div>
                
                <div class="item">
                    <h4>Performance</h4>
                    <p>Test des optimisations CSS</p>
                    <div class="status" id="performanceStatus">Test en cours...</div>
                </div>
            </div>
        </div>
        
        <div class="demo">
            <h3>üé¨ D√©monstration de la Cin√©matique</h3>
            <div class="generator-container">
                <h2 class="generator-title">G√©n√©rateur de posts LinkedIn</h2>
                <p class="generator-subtitle">Version optimis√©e et unifi√©e</p>
                
                <form class="post-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="subject">Sujet du post <span class="required">*</span></label>
                            <textarea id="subject" name="subject" rows="3" 
                                      placeholder="Testez la saisie avec animations optimis√©es..."
                                      required></textarea>
                            <div class="field-help">
                                Test de l'apparition des aides contextuelles
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="audience">Audience cible <span class="required">*</span></label>
                            <select id="audience" name="audience" required>
                                <option value="">Choisir une audience...</option>
                                <option value="professionals">Professionnels exp√©riment√©s</option>
                                <option value="juniors">Jeunes professionnels</option>
                                <option value="entrepreneurs">Entrepreneurs</option>
                            </select>
                            <div class="field-help">
                                Test de la navigation et des √©tats
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="tone">Ton du message <span class="required">*</span></label>
                            <select id="tone" name="tone" required>
                                <option value="">Choisir un ton...</option>
                                <option value="professional">Professionnel</option>
                                <option value="inspirational">Inspirant</option>
                                <option value="casual">D√©contract√©</option>
                            </select>
                            <div class="field-help">
                                Test des transitions et effets
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="language">Langue du post <span class="required">*</span></label>
                            <select id="language" name="language" required>
                                <option value="fr">Fran√ßais</option>
                                <option value="en">English</option>
                            </select>
                            <div class="field-help">
                                Test de la validation et des √©tats
                            </div>
                        </div>
                    </div>

                    <button type="button" class="generate-btn" onclick="testGeneration()">
                        <svg class="icon" viewBox="0 0 24 24" width="20" height="20">
                            <path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8z"/>
                            <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" fill="none"/>
                        </svg>
                        <span>Test de G√©n√©ration</span>
                    </button>
                </form>

                <div class="post-result" id="result" style="display: none;">
                    <h3>R√©sultat du Test :</h3>
                    <div class="post-content" id="content">
                        Test en cours...
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h3>üéÆ Tests Interactifs</h3>
            <div style="text-align: center; margin: 20px 0;">
                <button class="button" onclick="testAnimation('fadeIn')">Test Fade In</button>
                <button class="button" onclick="testAnimation('fadeInLeft')">Test Fade In Left</button>
                <button class="button" onclick="testAnimation('scaleIn')">Test Scale In</button>
                <button class="button" onclick="testAnimation('pulse')">Test Pulse</button>
                <button class="button" onclick="testAnimation('bounce')">Test Bounce</button>
                <button class="button" onclick="testAnimation('shake')">Test Shake</button>
            </div>
        </div>
        
        <div class="summary">
            <h3>üéâ R√©sum√© des Tests</h3>
            <div class="score" id="score">0%</div>
            <div class="details">
                <p><strong>Statut :</strong> <span id="status">Tests en cours...</span></p>
                <p><strong>Version :</strong> Cin√©matique Optimis√©e v3.0</p>
                <p><strong>Compatibilit√© :</strong> Tous navigateurs modernes</p>
                <p><strong>Performance :</strong> Optimis√©e et fluide</p>
            </div>
        </div>
        
        <div class="section">
            <h3>üìä Logs de Test</h3>
            <div class="log" id="logs">
                <div class="log-entry info">[INFO] Initialisation des tests unifi√©s...</div>
            </div>
        </div>
    </div>
    
    <script>
        // Classe de test unifi√©e et optimis√©e
        class CinematiqueTester {
            constructor() {
                this.logs = document.getElementById('logs');
                this.results = {
                    css: false,
                    variables: false,
                    animations: false,
                    responsive: false,
                    accessibility: false,
                    performance: false
                };
                this.init();
            }
            
            init() {
                this.log('üß™ Initialisation du testeur unifi√©...');
                this.log('üéØ Objectif : Validation compl√®te de la version optimis√©e');
                this.runAllTests();
                this.setupEventListeners();
                this.log('‚úÖ Testeur unifi√© initialis√©');
            }
            
            log(message, type = 'info') {
                const timestamp = new Date().toLocaleTimeString();
                const entry = document.createElement('div');
                entry.className = `log-entry ${type}`;
                entry.textContent = `[${timestamp}] ${message}`;
                
                this.logs.appendChild(entry);
                this.logs.scrollTop = this.logs.scrollHeight;
                console.log(message);
            }
            
            async runAllTests() {
                this.log('üöÄ D√©marrage de tous les tests...');
                
                await Promise.all([
                    this.testCSSFile(),
                    this.testCSSVariables(),
                    this.testAnimations(),
                    this.testResponsiveness(),
                    this.testAccessibility(),
                    this.testPerformance()
                ]);
                
                this.calculateScore();
                this.log('‚úÖ Tous les tests termin√©s', 'success');
            }
            
            async testCSSFile() {
                this.log('üîç Test du fichier CSS...');
                
                try {
                    const styles = getComputedStyle(document.documentElement);
                    const primaryColor = styles.getPropertyValue('--primary');
                    
                    if (primaryColor && primaryColor.trim() !== '') {
                        this.results.css = true;
                        this.updateStatus('cssStatus', 'success', 'CSS charg√© avec succ√®s');
                        this.log('‚úÖ Fichier CSS charg√© et accessible', 'success');
                    } else {
                        this.updateStatus('cssStatus', 'error', 'CSS non accessible');
                        this.log('‚ùå Variables CSS non trouv√©es', 'error');
                    }
                } catch (error) {
                    this.updateStatus('cssStatus', 'error', 'Erreur CSS');
                    this.log(`‚ùå Erreur lors du test CSS: ${error.message}`, 'error');
                }
            }
            
            async testCSSVariables() {
                this.log('üé® Test des variables CSS...');
                
                try {
                    const styles = getComputedStyle(document.documentElement);
                    const variables = [
                        '--primary', '--secondary', '--bg-primary', '--text-primary',
                        '--shadow-lg', '--transition', '--radius', '--space-lg'
                    ];
                    
                    const validVariables = variables.filter(variable => {
                        const value = styles.getPropertyValue(variable);
                        return value && value.trim() !== '';
                    }).length;
                    
                    if (validVariables === variables.length) {
                        this.results.variables = true;
                        this.updateStatus('variablesStatus', 'success', `${validVariables}/${variables.length} variables valides`);
                        this.log(`‚úÖ Toutes les variables CSS sont d√©finies`, 'success');
                    } else {
                        this.updateStatus('variablesStatus', 'warning', `${validVariables}/${variables.length} variables valides`);
                        this.log(`‚ö†Ô∏è Certaines variables CSS manquent`, 'warning');
                    }
                } catch (error) {
                    this.updateStatus('variablesStatus', 'error', 'Erreur variables');
                    this.log(`‚ùå Erreur lors du test des variables: ${error.message}`, 'error');
                }
            }
            
            async testAnimations() {
                this.log('üé¨ Test des animations...');
                
                try {
                    const styleSheets = Array.from(document.styleSheets);
                    let animationCount = 0;
                    
                    styleSheets.forEach(sheet => {
                        try {
                            const rules = Array.from(sheet.cssRules || []);
                            rules.forEach(rule => {
                                if (rule.type === CSSRule.KEYFRAMES_RULE) {
                                    animationCount++;
                                }
                            });
                        } catch (e) {
                            // Ignorer les erreurs CORS
                        }
                    });
                    
                    if (animationCount >= 10) {
                        this.results.animations = true;
                        this.updateStatus('animationsStatus', 'success', `${animationCount} animations trouv√©es`);
                        this.log(`‚úÖ ${animationCount} animations CSS d√©tect√©es`, 'success');
                    } else if (animationCount > 0) {
                        this.updateStatus('animationsStatus', 'warning', `${animationCount} animations trouv√©es`);
                        this.log(`‚ö†Ô∏è ${animationCount} animations CSS d√©tect√©es`, 'warning');
                    } else {
                        this.updateStatus('animationsStatus', 'error', 'Aucune animation d√©tect√©e');
                        this.log('‚ùå Aucune animation CSS d√©tect√©e', 'error');
                    }
                } catch (error) {
                    this.updateStatus('animationsStatus', 'error', 'Erreur animations');
                    this.log(`‚ùå Erreur lors du test des animations: ${error.message}`, 'error');
                }
            }
            
            async testResponsiveness() {
                this.log('üì± Test de la responsivit√©...');
                
                try {
                    const styleSheets = Array.from(document.styleSheets);
                    let mediaQueryCount = 0;
                    
                    styleSheets.forEach(sheet => {
                        try {
                            const rules = Array.from(sheet.cssRules || []);
                            rules.forEach(rule => {
                                if (rule.type === CSSRule.MEDIA_RULE) {
                                    mediaQueryCount++;
                                }
                            });
                        } catch (e) {
                            // Ignorer les erreurs CORS
                        }
                    });
                    
                    if (mediaQueryCount >= 2) {
                        this.results.responsive = true;
                        this.updateStatus('responsiveStatus', 'success', `${mediaQueryCount} media queries trouv√©es`);
                        this.log(`‚úÖ ${mediaQueryCount} media queries d√©tect√©es`, 'success');
                    } else if (mediaQueryCount > 0) {
                        this.updateStatus('responsiveStatus', 'warning', `${mediaQueryCount} media queries d√©tect√©es`);
                        this.log(`‚ö†Ô∏è ${mediaQueryCount} media queries d√©tect√©es`, 'warning');
                    } else {
                        this.updateStatus('responsiveStatus', 'error', 'Aucune media query d√©tect√©e');
                        this.log('‚ùå Aucune media query d√©tect√©e', 'error');
                    }
                } catch (error) {
                    this.updateStatus('responsiveStatus', 'error', 'Erreur responsivit√©');
                    this.log(`‚ùå Erreur lors du test de responsivit√©: ${error.message}`, 'error');
                }
            }
            
            async testAccessibility() {
                this.log('‚ôø Test de l\'accessibilit√©...');
                
                try {
                    const styleSheets = Array.from(document.styleSheets);
                    let accessibilityRules = 0;
                    
                    styleSheets.forEach(sheet => {
                        try {
                            const rules = Array.from(sheet.cssRules || []);
                            rules.forEach(rule => {
                                if (rule.type === CSSRule.MEDIA_RULE && 
                                    rule.conditionText.includes('prefers-reduced-motion')) {
                                    accessibilityRules++;
                                }
                            });
                        } catch (e) {
                            // Ignorer les erreurs CORS
                        }
                    });
                    
                    if (accessibilityRules > 0) {
                        this.results.accessibility = true;
                        this.updateStatus('accessibilityStatus', 'success', 'Accessibilit√© support√©e');
                        this.log('‚úÖ Support de l\'accessibilit√© d√©tect√©', 'success');
                    } else {
                        this.updateStatus('accessibilityStatus', 'warning', 'Accessibilit√© limit√©e');
                        this.log('‚ö†Ô∏è Support de l\'accessibilit√© limit√©', 'warning');
                    }
                } catch (error) {
                    this.updateStatus('accessibilityStatus', 'error', 'Erreur accessibilit√©');
                    this.log(`‚ùå Erreur lors du test d'accessibilit√©: ${error.message}`, 'error');
                }
            }
            
            async testPerformance() {
                this.log('‚ö° Test de la performance...');
                
                try {
                    const styleSheets = Array.from(document.styleSheets);
                    let performanceRules = 0;
                    
                    styleSheets.forEach(sheet => {
                        try {
                            const rules = Array.from(sheet.cssRules || []);
                            rules.forEach(rule => {
                                if (rule.type === CSSRule.STYLE_RULE && 
                                    rule.style.getPropertyValue('will-change')) {
                                    performanceRules++;
                                }
                            });
                        } catch (e) {
                            // Ignorer les erreurs CORS
                        }
                    });
                    
                    if (performanceRules > 0) {
                        this.results.performance = true;
                        this.updateStatus('performanceStatus', 'success', 'Optimisations d√©tect√©es');
                        this.log('‚úÖ Optimisations de performance d√©tect√©es', 'success');
                    } else {
                        this.updateStatus('performanceStatus', 'warning', 'Optimisations limit√©es');
                        this.log('‚ö†Ô∏è Optimisations de performance limit√©es', 'warning');
                    }
                } catch (error) {
                    this.updateStatus('performanceStatus', 'error', 'Erreur performance');
                    this.log(`‚ùå Erreur lors du test de performance: ${error.message}`, 'error');
                }
            }
            
            calculateScore() {
                const totalTests = Object.keys(this.results).length;
                const passedTests = Object.values(this.results).filter(result => result === true).length;
                const score = Math.round((passedTests / totalTests) * 100);
                
                document.getElementById('score').textContent = `${score}%`;
                
                if (score >= 90) {
                    document.getElementById('status').textContent = 'Excellent - Pr√™t pour la production';
                    this.log(`üéâ Score final : ${score}% - Excellent !`, 'success');
                } else if (score >= 70) {
                    document.getElementById('status').textContent = 'Bon - Quelques am√©liorations possibles';
                    this.log(`‚úÖ Score final : ${score}% - Bon !`, 'success');
                } else if (score >= 50) {
                    document.getElementById('status').textContent = 'Moyen - Am√©liorations n√©cessaires';
                    this.log(`‚ö†Ô∏è Score final : ${score}% - Moyen`, 'warning');
                } else {
                    document.getElementById('status').textContent = 'Faible - Corrections importantes n√©cessaires';
                    this.log(`‚ùå Score final : ${score}% - Faible`, 'error');
                }
                
                this.log(`üìä R√©sultats : ${passedTests}/${totalTests} tests r√©ussis`, 'info');
            }
            
            updateStatus(elementId, type, message) {
                const element = document.getElementById(elementId);
                if (element) {
                    element.className = `status ${type}`;
                    element.textContent = message;
                }
            }
            
            setupEventListeners() {
                const formGroups = document.querySelectorAll('.form-group');
                formGroups.forEach(group => {
                    const input = group.querySelector('input, select, textarea');
                    if (input) {
                        input.addEventListener('focus', () => {
                            this.log(`üîç Focus sur ${input.name || input.id}`, 'info');
                        });
                        
                        input.addEventListener('input', () => {
                            this.log(`‚úèÔ∏è Saisie dans ${input.name || input.id}: "${input.value}"`, 'info');
                        });
                        
                        input.addEventListener('change', () => {
                            this.log(`üîÑ Changement dans ${input.name || input.id}: "${input.value}"`, 'info');
                        });
                    }
                });
            }
        }
        
        // Tests d'animation
        function testAnimation(animationType) {
            const logs = document.getElementById('logs');
            const entry = document.createElement('div');
            entry.className = 'log-entry info';
            entry.textContent = `[${new Date().toLocaleTimeString()}] Test de l'animation: ${animationType}`;
            logs.appendChild(entry);
            
            const form = document.querySelector('.post-form');
            form.style.animation = `${animationType} 1s ease-out`;
            
            setTimeout(() => {
                form.style.animation = '';
            }, 1000);
        }
        
        // Test de g√©n√©ration
        function testGeneration() {
            const generateBtn = document.querySelector('.generate-btn');
            const result = document.getElementById('result');
            const content = document.getElementById('content');
            
            generateBtn.classList.add('loading');
            generateBtn.disabled = true;
            
            setTimeout(() => {
                generateBtn.classList.remove('loading');
                generateBtn.disabled = false;
                
                result.style.display = 'block';
                result.classList.add('show');
                
                content.innerHTML = `
                    <strong>üéâ Test de g√©n√©ration r√©ussi !</strong><br><br>
                    <strong>Animation :</strong> Apparition progressive du r√©sultat<br>
                    <strong>Transition :</strong> Slide depuis le bas<br>
                    <strong>√âtat :</strong> Bouton avec effet de chargement<br>
                    <strong>Performance :</strong> Animations fluides et optimis√©es<br>
                    <strong>Accessibilit√© :</strong> Support des pr√©f√©rences utilisateur<br>
                    <strong>Responsivit√© :</strong> Adaptation mobile parfaite<br><br>
                    <em>La cin√©matique optimis√©e fonctionne parfaitement ! üöÄ</em>
                `;
                
                result.classList.add('success-animation');
                setTimeout(() => {
                    result.classList.remove('success-animation');
                }, 600);
                
            }, 2000);
        }
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            new CinematiqueTester();
        });
    </script>
</body>
</html>
